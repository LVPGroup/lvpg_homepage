<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Theory dmbuscase (Isabelle2019: June 2019)</title>
<link media="all" rel="stylesheet" type="text/css" href="isabelle.css"/>
</head>

<body>
<div class="head"><h1>Theory dmbuscase</h1>

<span class="command">theory</span> <span class="name">dmbuscase</span><br/>
<span class="keyword">imports</span> <a href="dmbus.html"><span class="name">dmbus</span></a> <a href="../../HOL/HOL/Real.html"><span class="name">Real</span></a> <a href="picore_SIMP_Syntax.html"><span class="name">picore_SIMP_Syntax</span></a><br/>

</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*
Created by xuwenjing 
School of Computer Science &amp; Engineering, Beihang University, China
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">section</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Formal Specification and Reasoning of messaging system&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>dmbuscase</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>dmbus</span><span>  </span><span>HOL.Real</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;../SIMP/picore_SIMP_Syntax&quot;</span></span></span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot;../SIMP/picore_SIMP&quot;</span></span></span><span> 
</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Config&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">record</span></span><span> </span><span class="tfree">&#39;a</span><span> </span><span>buffer</span><span> </span><span class="delimiter">=</span><span> </span><span>data</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a option&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">datatype</span></span><span> </span><span>Module</span><span> </span><span class="delimiter">=</span><span> </span><span>DGPS</span><span> </span><span class="delimiter">|</span><span> </span><span>Locator</span><span> </span><span class="delimiter">|</span><span> </span><span>Planner</span><span> </span><span class="delimiter">|</span><span> </span><span>Chassis</span><span>  </span><span class="delimiter">|</span><span> </span><span>Interactive</span><span> </span><span class="delimiter">|</span><span> </span><span>Monitor</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;write_buffer d  &#8801; &#10631;data = d&#10632;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;read_buffer_data b &#8801; data b&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">typedecl</span></span><span> </span><span>Btype</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* Unmanned car speed &amp; angle type*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>speed</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>angle</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*Unmanned car position type
  longitude
  latitude
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>posLng</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>posLat</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span> 
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>dgpsLng</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>dgpsLat</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>loactorLng</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>locatorLat</span><span> </span><span class="delimiter">=</span><span> </span><span>real</span><span>
</span><span class="keyword1"><span class="command">datatype</span></span><span> </span><span>msg_type</span><span> </span><span class="delimiter">=</span><span>  </span><span>SINGLE_POINT</span><span> </span><span>dgpsLng</span><span> </span><span>dgpsLat</span><span> </span><span class="delimiter">|</span><span> </span><span>PSEU_DIFF</span><span> </span><span>dgpsLng</span><span> </span><span>dgpsLat</span><span> 
</span><span>  </span><span class="delimiter">|</span><span> </span><span>RTK_FIX</span><span> </span><span>dgpsLng</span><span> </span><span>dgpsLat</span><span> </span><span class="delimiter">|</span><span> </span><span>RTK_FLOAT</span><span> </span><span>dgpsLng</span><span> </span><span>dgpsLat</span><span> 
</span><span>  </span><span class="delimiter">|</span><span>HIGH_PREC</span><span> </span><span>loactorLng</span><span> </span><span>locatorLat</span><span> </span><span class="delimiter">|</span><span> </span><span>LOW_PREC</span><span> </span><span>loactorLng</span><span> </span><span>locatorLat</span><span> </span><span class="delimiter">|</span><span> </span><span>LOSS</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>Manual</span><span> </span><span class="delimiter">|</span><span> </span><span>Auto</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>Destination</span><span> </span><span>posLng</span><span> </span><span>posLat</span><span> </span><span class="delimiter">|</span><span> </span><span>Operate_Steer</span><span>  </span><span class="delimiter">|</span><span> </span><span>Operate_Autopilot</span><span> 
</span><span>  </span><span class="delimiter">|</span><span> </span><span>CtrlCMD</span><span> </span><span>real</span><span> </span><span>real</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>Paths</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(real &#215; real) list&quot;</span></span></span><span> 
</span><span>  </span><span class="delimiter">|</span><span> </span><span>Order</span><span> </span><span>real</span><span> </span><span>real</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>AV_status</span><span> </span><span>angle</span><span> </span><span>speed</span><span>
</span><span>
</span><span class="keyword1"><span class="command">datatype</span></span><span> </span><span>Buffer</span><span> </span><span class="delimiter">=</span><span>  </span><span>dgps_buf</span><span> </span><span class="delimiter">|</span><span> </span><span>locator_buf</span><span> </span><span class="delimiter">|</span><span> </span><span>AV_status_buf</span><span> </span><span class="delimiter">|</span><span> </span><span>planner_buf</span><span> </span><span class="delimiter">|</span><span>control_mode_buf</span><span> </span><span class="delimiter">|</span><span>order_buf</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>interactive_buf</span><span class="delimiter">|</span><span>path_buf</span><span> 
</span><span>  </span><span class="delimiter">|</span><span>ex1_buf</span><span> </span><span class="delimiter">|</span><span> </span><span>ex2_buf</span><span> </span><span class="delimiter">|</span><span>ex3_buf</span><span> </span><span class="delimiter">|</span><span> </span><span>ex4_buf</span><span>
</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>Mset</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Module set&quot;</span></span></span><span> 
</span><span class="keyword1"><span class="command">datatype</span></span><span> </span><span>Parameter</span><span> </span><span class="delimiter">=</span><span>   </span><span>Locator_data</span><span> </span><span class="delimiter">|</span><span> </span><span>DGPS_data</span><span> </span><span class="delimiter">|</span><span> </span><span>Interactive_data</span><span> </span><span class="delimiter">|</span><span> </span><span>Planner_data</span><span>  </span><span class="delimiter">|</span><span> </span><span>CtrlOrder</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>Control_mode</span><span class="delimiter">|</span><span>Path</span><span> </span><span class="delimiter">|</span><span> </span><span>BufP</span><span> </span><span>Buffer</span><span> </span><span class="delimiter">|</span><span> </span><span>MSet</span><span> </span><span>Mset</span><span>
</span><span>
</span><span class="keyword1"><span class="command">datatype</span></span><span> </span><span>EL</span><span> </span><span class="delimiter">=</span><span> </span><span>System_InitE</span><span class="delimiter">|</span><span> </span><span>LocatorE</span><span> </span><span class="delimiter">|</span><span> </span><span>PlannerE</span><span> </span><span class="delimiter">|</span><span> </span><span>ChassisE</span><span> </span><span class="delimiter">|</span><span> </span><span>DGPSE</span><span> </span><span class="delimiter">|</span><span> </span><span>InteractiveE</span><span> </span><span class="delimiter">|</span><span>CtrlModeE</span><span>
</span><span>  </span><span class="delimiter">|</span><span> </span><span>MonitorE</span><span> </span><span class="delimiter">|</span><span> </span><span>OrderCtrlE</span><span> </span><span class="delimiter">|</span><span>PATHE</span><span class="delimiter">|</span><span>CreateE</span><span class="delimiter">|</span><span>RemoveE</span><span> </span><span class="delimiter">|</span><span> </span><span>Buffer_InitE</span><span>
</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>EventLabel</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;EL &#215; (Parameter list &#215; Module)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>get_evt_label</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;EL &#8658; Parameter list &#8658; Module &#8658; EventLabel&quot;</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;_ _ @ _&quot;</span></span></span><span> </span><span class="delimiter">[</span><span>0</span><span class="delimiter">,</span><span>0</span><span class="delimiter">,</span><span>0</span><span class="delimiter">]</span><span> </span><span>20</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;get_evt_label el ps k &#8801; (el,(ps,k))&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;allbuf &#8801; { dgps_buf , locator_buf , AV_status_buf , planner_buf ,control_mode_buf 
                      ,order_buf ,interactive_buf,path_buf ,ex1_buf , ex2_buf ,ex3_buf , ex4_buf}&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">datatype</span></span><span> </span><span>BufMode</span><span> </span><span class="delimiter">=</span><span> </span><span>IDLE</span><span> </span><span class="delimiter">|</span><span> </span><span>USED</span><span>
</span><span>
</span><span class="keyword1"><span class="command">consts</span></span><span> </span><span>status</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Module &#8658; bool&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;State&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">record</span></span><span> </span><span>State</span><span> </span><span class="delimiter">=</span><span>  </span><span>buf_writer</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Buffer &#8658; Module option&quot;</span></span></span><span> 
</span><span>                </span><span>buf_readers</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Buffer &#8658; Module set&quot;</span></span></span><span> 
</span><span>                </span><span>bufset</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Buffer set&quot;</span></span></span><span>
</span><span>                </span><span>buf_msg</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Buffer &#8658; msg_type buffer &quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">axiomatization</span></span><span> </span><span>sysconf</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Module &#8658;(Buffer,Buffer) Config&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>sysconfstb</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;m1 m2 b  .b &#8712; writer (sysconf m1) &#10230; b &#8713; writer (sysconf m1)  &quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>writerstb&#39;</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s sys .{b.  buf_writer s b = Some(sys)} &#8838; writer (sysconf sys)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>readerstb&#39;</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s sys .{b. sys &#8712; buf_readers s b} &#8838; readers (sysconf sys)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>bufstatus</span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658; Module &#8658; Buffer &#8658; bool&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;bufstatus s m b &#8801; (if b &#8713; (bufset s) &#8743;  b&#8712; writer (sysconf m) then True else False)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">fun</span></span><span>  </span><span>buf_writer&#39;</span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;Buffer &#8658; Module option&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; dgps_buf = Some DGPS&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; locator_buf = Some Locator&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; AV_status_buf = Some Chassis&quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; planner_buf = Some Planner&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; control_mode_buf = Some Chassis&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; order_buf = Some Chassis&quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; interactive_buf = Some Interactive&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; path_buf = Some Planner&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; ex1_buf = None&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; ex2_buf = None&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; ex3_buf = None&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#39; ex4_buf = None&quot;</span></span></span><span> 
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* msg_bus buf_readers config info*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">fun</span></span><span>  </span><span>buf_readers&#39;</span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;Buffer &#8658; Module set&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; dgps_buf = {Locator}&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; locator_buf = {Planner}&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; AV_status_buf = {Planner}&quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; planner_buf = {Chassis}&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; control_mode_buf = {Chassis}&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; order_buf = {Planner}&quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; interactive_buf = {Planner,Chassis}&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; path_buf = {Planner}&quot;</span></span></span><span> </span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; ex1_buf = {} &quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; ex2_buf = {} &quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; ex3_buf = {} &quot;</span></span></span><span class="delimiter">|</span><span>
</span><span>        </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers&#39; ex4_buf = {} &quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;local_vars &#8801; &#955;s m .True&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">interpretation</span></span><span> </span><span>dmsg_bus</span><span> </span><span>ptranI</span><span> </span><span>petranI</span><span> </span><span>None</span><span> </span><span>cpts_pI</span><span> </span><span>cpts_of_pI</span><span> </span><span>prog_validityI</span><span> </span><span>assume_pI</span><span> </span><span>commit_pI</span><span>
</span><span> </span><span>rghoare_pI</span><span> </span><span>sysconf</span><span> </span><span>buf_writer</span><span> </span><span>buf_readers</span><span>  </span><span>buf_msg</span><span> </span><span>local_vars</span><span> </span><span>bufset</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>allbuf_def</span><span> </span><span>event_hoare_axioms</span><span> </span><span>dmsg_bus_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dmsg_bus_axioms_def</span><span> </span><span>sysconfstb</span><span> </span><span>writerstb&#39;</span><span> </span><span>readerstb&#39;</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>metis</span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;functional specification&#8250;</span></span></span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*
@brief create buf for module
create_buf s b sys sysSet btype
*)</span></span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>createNode</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;Module &#8658;Buffer&#8658;(EventLabel,Module,State,State prog option)event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;createNode s k b  &#8801; 
    EVENT CreateE [BufP b] @ k 
    WHEN
    bufstatus s k b &#8743; status k
    THEN  
      &#180;buf_writer := &#180;buf_writer(b := Some k);;
      &#180;buf_readers := &#180;buf_readers(b := (get_conf_rd_set b));;
      &#180;bufset :=  (insert b &#180;bufset) ;;
      &#180;buf_msg :=&#180;buf_msg(b :=&#10631;data = Some(SOME x:: msg_type. True)&#10632;)
    END&quot;</span></span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*
@brief remove buf for module
Only created module can delete the current buffer
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>removeNode</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State&#8658;Module&#8658;Buffer &#8658;(EventLabel,Module,State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;removeNode s k b &#8801; 
    EVENT RemoveE  [BufP b] @ k 
    WHEN
    bufstatus s k b &#8743; (&#180;buf_writer b = Some k)
    THEN  
      &#180;buf_writer := &#180;buf_writer(b :=None);;
      &#180;buf_readers := &#180;buf_readers(b := {});;
      &#180;bufset :=   &#180;bufset - {b} 
    END&quot;</span></span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*
@brief  buf init for module
Only created module can delete the current buffer
*)</span></span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>Buffer_Init</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Module &#8658;Buffer&#8658;Mset&#8658;(EventLabel,Module,State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Buffer_Init k b ms &#8801; 
    EVENT Buffer_InitE [BufP b,MSet ms] @ k 
    THEN 
    &#180;buf_writer := (&#955;b. Some k);;
    &#180;buf_readers := (&#955;b .ms);;
    &#180;bufset :=  insert b &#180;bufset ;;
    &#180;buf_msg := (&#955;b .&#10631;data = Some(SOME x:: msg_type. True)&#10632;)
    END&quot;</span></span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(*
@brief  buf system init 
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>System_Init</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; (State &#215; ( Module&#8658;Buffer &#8658;Mset&#8658;
                                    (EventLabel, Module, State, State prog option)event ))&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;System_Init   &#8801; (
  &#10631;buf_writer = (buf_writer&#39;),
  buf_readers = (buf_readers&#39;),
  bufset = { dgps_buf , locator_buf , AV_status_buf , planner_buf ,control_mode_buf ,order_buf ,interactive_buf,path_buf},
  buf_msg =  (&#955;b .&#10631;data = None&#10632;)
 &#10632;,
  (&#955;k b ms. Buffer_Init k b ms)
  )&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">axiomatization</span></span><span> </span><span>confs</span><span class="delimiter">::</span><span> </span><span>State</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>msg_type_no_eq</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;b1 b2 s. buf_writer s b1 &#8800; buf_writer s b2&#10230; buf_msg s b1 &#8800; buf_msg s b2&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>dgps_buf_type</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = dgps_buf &#10230;( &#8704;x y . data ((buf_msg s) b) = Some(SINGLE_POINT x y)&#8744;
      data ((buf_msg s) b) = Some(PSEU_DIFF x y)&#8744; data ((buf_msg s) b) = Some(RTK_FIX x y) &#8744; 
      data ((buf_msg s) b) = Some(RTK_FLOAT x y) )&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>locator_buf_type</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b. b = locator_buf &#10230;(&#8704;x y. data ((buf_msg s) b) = Some(HIGH_PREC x y)
      &#8744; data ((buf_msg s) b) = Some(LOW_PREC x y)&#8744; data ((buf_msg s) b) = Some LOSS  )&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>interactive_buf_type</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = interactive_buf &#10230;
   (&#8704;x y . data ((buf_msg s) b) = Some(Destination x y) &#8744; data ((buf_msg s) b) = Some(Operate_Steer)
    &#8744; data ((buf_msg s) b) = Some Operate_Autopilot )&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = control_mode_buf &#10230;(  data ((buf_msg s) b) = Some(Manual) 
    &#8744; data ((buf_msg s) b) = Some Auto )&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>planner_buf_type</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = planner_buf &#10230;( &#8704;x y. data ((buf_msg s) b) = Some(CtrlCMD x y))&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>order_buf_type</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = order_buf &#10230;( &#8704;x y . data ((buf_msg s) b) = Some(Order x y) )&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>av_status_buf_type</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = AV_status_buf &#10230;
                                    (&#8704;x y . data ((buf_msg s) b) = Some(AV_status x y) )&quot;</span></span></span><span>
</span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>path_type</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b . b = path_buf &#10230;( &#8704;x  . data ((buf_msg s) b) = Some(Paths x ) )&quot;</span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>Module_exec</span><span> </span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;Module &#8658; Buffer &#8658;EL&#8658;(EventLabel, Module, State,State prog option )event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Module_exec k b el&#8801;
    EVENT el [BufP b] @ k 
    THEN
       &#180;buf_msg :=  &#180;buf_msg(b := &#10631;data = Some(SOME x::msg_type. True)&#10632;) 
    END
&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>DGPS_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option ) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;DGPS_exec  &#8801;  Module_exec DGPS dgps_buf DGPSE&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>Interactive_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Interactive_exec  &#8801;  Module_exec Interactive interactive_buf InteractiveE&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>path_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;path_exec  &#8801;  Module_exec Planner path_buf PATHE&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>monitor_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;monitor_exec  &#8801; Module_exec Chassis AV_status_buf MonitorE&quot;</span></span></span><span>
</span><span>   
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>orderctrl_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;orderctrl_exec  &#8801;  Module_exec Chassis order_buf OrderCtrlE&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>locator_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;locator_exec    &#8801;
    EVENT LocatorE [] @ Locator
    THEN
      IF  data (&#180;buf_msg dgps_buf) = None   THEN
          &#180;buf_msg := &#180;buf_msg( locator_buf := &#10631;data = Some LOSS&#10632;)
      ELSE
          &#180;buf_msg := &#180;buf_msg(locator_buf := &#10631;data =
                      Some ( case the (data (&#180;buf_msg dgps_buf)) of RTK_FIX x y &#8658;  (HIGH_PREC x y)| 
                                                          PSEU_DIFF x y &#8658;  (LOW_PREC x y) | 
                                                          SINGLE_POINT x y &#8658;  LOSS | 
                                                          RTK_FLOAT x y &#8658;  (LOW_PREC x y))
                     &#10632;)
      FI
END&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>planner_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;planner_exec  &#8801;
    EVENT PlannerE [] @ Planner
    THEN
     IF (  data (&#180;buf_msg locator_buf) = None) THEN
          &#180;buf_msg := &#180;buf_msg (planner_buf :=&#10631;data = Some(CtrlCMD 0 0)&#10632; )
     ELSE 
         &#180;buf_msg :=&#180;buf_msg (planner_buf :=
                      &#10631;data = Some  (CtrlCMD (SOME x::real. True) (SOME x::real. True))&#10632; )
   
   FI
END&quot;</span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>ctrlmode_exec</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EventLabel, Module, State,State prog option) event&quot;</span></span></span><span> 
</span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;ctrlmode_exec  &#8801;
     EVENT CtrlModeE [] @ Chassis
     THEN
        IF (data (&#180;buf_msg control_mode_buf)) = Some Manual THEN
           IF (data (&#180;buf_msg interactive_buf)) =  Some Operate_Autopilot
              THEN 
              &#180;buf_msg :=  &#180;buf_msg(control_mode_buf:=&#10631;data = Some Auto&#10632;)          
           FI
        ELSE
           IF  (data (&#180;buf_msg interactive_buf)) = Some Operate_Steer 
             THEN     
                &#180;buf_msg :=  &#180;buf_msg (control_mode_buf:=&#10631;data = Some Auto&#10632;)       
           FI
        FI
END&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Rely-guarantee condition of events&#8250;</span></span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* module post condition*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;dgps_post &#8801; &#10627; &#180;buf_msg dgps_buf=   &#10631;data = Some(SOME x::msg_type. True)&#10632;  &#10628; &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;interactive_post &#8801; &#10627;&#180;buf_msg interactive_buf= &#10631;data = Some(SOME x:: msg_type. True)&#10632;&#10628;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;locator_post &#8801; &#10627; data (&#180;buf_msg locator_buf) = Some(SOME x::  msg_type. True) &#8744;
                               data (&#180;buf_msg locator_buf) = Some(LOSS) &#10628; &quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;path_post &#8801;  &#10627;&#180;buf_msg path_buf =  &#10631;data = Some(SOME x::  msg_type. True)&#10632;  &#10628; &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;planner_post &#8801;  &#10627; &#8707;x y . &#180;buf_msg planner_buf = &#10631;data = Some(CtrlCMD x y)&#10632;&#10628; &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;ctrlmode_post &#8801;&#10627;((data (&#180;buf_msg control_mode_buf) =  Some Auto) &#8744;
                               (data (&#180;buf_msg control_mode_buf) = Some Manual))&#10628; &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;monitor_post &#8801;&#10627; (&#8707;x y. data (&#180;buf_msg AV_status_buf) = Some (AV_status x y )) &#10628; &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;orderctrl_post &#8801;&#10627;   (&#8707;x y. data (&#180;buf_msg order_buf) = Some (Order x y) ) &#10628; &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;chassis_post &#8801; (ctrlmode_post &#8746; monitor_post &#8746; orderctrl_post) &quot;</span></span></span><span>
</span><span>
</span><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* rely - guar *)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>DGPS_exec_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; DGPS_exec_RGCond s &#8801;
       RG[&#10627; True &#10628;,
        ( assm_bufs_stb_sys  s DGPS &#8746; Id),
        (guar_bufs_stb_sys s DGPS  &#8746; Id),
        dgps_post]&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>Interactive_exec_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; Interactive_exec_RGCond s &#8801;
       RG[&#10627; True &#10628;,
        (assm_bufs_stb_sys s Interactive &#8746; Id),
        (guar_bufs_stb_sys s  Interactive &#8746; Id),
       interactive_post]
&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Locator_exec_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Locator_exec_RGCond s &#8801;
     RG[&#10627; True &#10628;,
         (assm_bufs_stb_sys s Locator &#8746; Id),
       ( guar_bufs_stb_sys s Locator &#8746; Id),
      locator_post ]
&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Planner_exec_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Planner_exec_RGCond s&#8801;
     RG[&#10627; True &#10628;,
        (assm_bufs_stb_sys s Planner &#8746; Id),
        (guar_bufs_stb_sys s Planner &#8746; Id),
       planner_post
]
&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Chassis_exec_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; Chassis_exec_RGCond s &#8801;
     RG[&#10627;True&#10628;,
         (assm_bufs_stb_sys s Chassis &#8746;Id),
        (guar_bufs_stb_sys  s Chassis &#8746; Id),
        chassis_post]
&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>createNode_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; createNode_RGCond &#8801;
     RG[&#10627;True&#10628;,&#10627;True&#10628;,
&#10627; &#186;buf_msg = &#170;buf_msg&#10628;,&#10627;True&#10628;]
&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>removeNode_RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(State) rgformula&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; removeNode_RGCond  &#8801;
     RG[&#10627;True&#10628;,&#10627;True&#10628;,
&#10627;&#186;buf_msg = &#170;buf_msg&#10628;,&#10627;True&#10628;]
&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>sevent</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EL &#215; Parameter list &#215; Module, Module, State, State prog option) event&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>srgfformula_e</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State rgformula&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>event_rgf</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(EL &#215; Parameter list &#215; Module, Module, State, State prog option) event 
                              &#215; State rgformula&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">type_synonym</span></span><span> </span><span>post</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State set&quot;</span></span></span><span> 
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>RGCond</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;Module &#8658;post &#8658;(State) rgformula&quot;</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;RGCond[_,_,_]&quot;</span></span></span><span>  </span><span class="delimiter">[</span><span>97</span><span class="delimiter">,</span><span>97</span><span class="delimiter">,</span><span>97</span><span class="delimiter">]</span><span> </span><span>96</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;RGCond s m pst &#8801;
        RG[&#10627;True&#10628;,
         (assm_bufs_stb_sys s m &#8746;Id),
        (guar_bufs_stb_sys s m &#8746; Id),
        pst]
&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>RGF</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;sevent &#8658; srgfformula_e &#8658; event_rgf&quot;</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;RGF[_,_]&quot;</span></span></span><span>  </span><span class="delimiter">[</span><span>95</span><span class="delimiter">,</span><span>95</span><span class="delimiter">]</span><span> </span><span>94</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;RGF evt rgf = (evt,rgf)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>create_RGF</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;Module &#8658; Buffer
                                 &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;create_RGF s k b  &#8801; (createNode s k b,createNode_RGCond )&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>remove_RGF</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;Module &#8658; Buffer
                                 &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;remove_RGF s k b  &#8801; (removeNode s k b,removeNode_RGCond )&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>DGPS_exec_RGF&#39;</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;DGPS_exec_RGF&#39; s &#8801; (DGPS_exec,DGPS_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>Interactive_exec_RGF&#39;</span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel,Module,State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Interactive_exec_RGF&#39; s  &#8801; (Interactive_exec,Interactive_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Locator_exec_RGF&#39;</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Locator_exec_RGF&#39; s &#8801; (locator_exec,Locator_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Planner_exec_RGF&#39;</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Planner_exec_RGF&#39; s &#8801; (planner_exec,Planner_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Ctrlmode_RGF&#39;</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Ctrlmode_RGF&#39; s &#8801; (ctrlmode_exec,Chassis_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span>  </span><span>Monitor_RGF&#39;</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Monitor_RGF&#39; s&#8801; (monitor_exec,Chassis_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>Orderctrl_exec_RGF&#39;</span><span> </span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_e&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Orderctrl_exec_RGF&#39; s &#8801; (orderctrl_exec,Chassis_exec_RGCond s)&quot;</span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>EvtSys_on_RGF</span><span> </span><span class="delimiter">::</span><span> 
</span><span>  </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;Module &#8658;event_rgf set &#8658; post&#8658; 
  (EventLabel,Module, State,State prog option) rgformula_es&quot;</span></span></span><span>  </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">&quot;EvtSysRGF[_,_,_,_] &quot;</span></span></span><span> </span><span class="delimiter">[</span><span>93</span><span class="delimiter">,</span><span>93</span><span class="delimiter">,</span><span>93</span><span class="delimiter">]</span><span> </span><span>92</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;EvtSys_on_RGF s m evt_rg pst &#8801; 
            (rgf_EvtSys (evt_rg ),
        RG[&#10627; True &#10628;,
        (assm_bufs_stb_sys s m &#8746; Id),
        (guar_bufs_stb_sys s m  &#8746; Id),
        pst]
)&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>EvtSys_on_Chassis_RGF</span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel,Module, State,State prog option) rgformula_es&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;EvtSys_on_Chassis_RGF s &#8801; 
            (rgf_EvtSys (
  {RGF[ctrlmode_exec,RGCond[s,Chassis,chassis_post]]} 
  &#8746; {RGF[monitor_exec,RGCond[s,Chassis,chassis_post]]}
  &#8746;  {RGF[orderctrl_exec,RGCond[s,Chassis,chassis_post]]}
  ),
               RG[&#10627;True&#10628;,
         (assm_bufs_stb_sys s Chassis &#8746;Id),
        (guar_bufs_stb_sys s  Chassis  &#8746; Id),
        chassis_post]
)&quot;</span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>EvtSys_on_Monitor_RGF</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; State&#8658; Module  &#8658;
                                      (EventLabel,Module, State,State prog option) rgformula_es&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;EvtSys_on_Monitor_RGF s k &#8801; 
            (rgf_EvtSys (
(&#8899;b.{create_RGF s k b}) &#8746; (&#8899;b.{remove_RGF s k b})
),
                  RG[&#10627;True&#10628;,&#10627;True&#10628;,
 &#10627;&#186;buf_msg = &#170;buf_msg&#10628;,&#10627;True&#10628;]
)&quot;</span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>L4_Spec</span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;(EventLabel, Module, State,State prog option) rgformula_par&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;L4_Spec   &#8801; &#955;s k. 
  case k of DGPS &#8658; EvtSysRGF[s,DGPS,{RGF[DGPS_exec,RGCond[s,DGPS,dgps_post]]},dgps_post]
            | Interactive &#8658; EvtSysRGF[s,Interactive,
               {RGF[Interactive_exec,RGCond[s,Interactive,interactive_post]]},interactive_post]
            | Locator &#8658; EvtSysRGF[s,Locator,
               {RGF[locator_exec,RGCond[s,Locator,locator_post]]},locator_post]
            | Planner &#8658;EvtSysRGF[s,Planner,
               {RGF[planner_exec,RGCond[s,Planner,planner_post]]},planner_post]
            | Chassis &#8658; EvtSys_on_Chassis_RGF s
            | Monitor &#8658; EvtSys_on_Monitor_RGF s k &quot;</span></span></span><span>  
</span><span>                                
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>L4_Spec&#39;</span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658;Module  &#8658;(EventLabel, Module, State,State prog option) rgformula_es&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;L4_Spec&#39;  &#8801; &#955;s k .
  case k of DGPS &#8658; EvtSysRGF[s,DGPS,{RGF[DGPS_exec,RGCond[s,DGPS,dgps_post]]},dgps_post]                            
 | Interactive &#8658; EvtSysRGF[s,Interactive,{RGF[Interactive_exec,
                  RGCond[s,Interactive,interactive_post]]},interactive_post]                  
 | Locator &#8658; EvtSysRGF[s,Locator,{RGF[locator_exec,RGCond[s,Locator,locator_post]]},locator_post]                                
 | Planner &#8658;EvtSysRGF[s,Planner,{RGF[planner_exec,RGCond[s,Planner,planner_post]]},planner_post]                                
 | Chassis &#8658; EvtSys_on_Chassis_RGF s                                   
 | Monitor &#8658;EvtSys_on_Monitor_RGF s k&quot;</span></span></span><span>                    
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">consts</span></span><span> </span><span>s0</span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;State set&quot;</span></span></span><span> 
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>s0_witness</span><span class="delimiter">::</span><span class="string"><span class="delete"><span class="delete">&quot;State set&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;s0_witness &#8801; {fst (System_Init )}&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">specification</span></span><span> </span><span class="delimiter">(</span><span>s0</span><span class="delimiter">)</span><span> 
</span><span>  </span><span>s0_init</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;s0 &#8801; {fst (System_Init)}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;some lemma&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;Moduleset &#8801; {DGPS , Locator , Planner , Chassis  , Interactive }&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_init &#8801;  { dgps_buf , locator_buf , AV_status_buf , 
                          planner_buf ,control_mode_buf ,order_buf ,interactive_buf,path_buf}&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>buf_set_init</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;s .s = s0 &#10230;buf_set s =
 { dgps_buf , locator_buf , AV_status_buf , planner_buf ,control_mode_buf ,order_buf ,
  interactive_buf,path_buf}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>buf_no</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s b .&#8707; m .the (buf_writer s b) &#8800; m &#10230; b &#8713; get_wrt_bufs s m &quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>buf_writer_same</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;b1 b2 s . b1&#8712; bufset s &#8743; b2 &#8712; bufset s &#8743; b1 &#8800; b2 
                        &#10230; buf_writer s b1 = buf_writer s b2&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>msg_type_eq</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s t .&#8707;b1 b2 .b1 &#8800; b2 &#10230; buf_msg s b1 =  buf_msg t b2&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>msg_type_noteq</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s t .&#8707;b1 b2 .b1 &#8800; b2 &#10230; buf_msg s b1 &#8800;  buf_msg t b2&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>msgeq</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s t .&#8707;b m .buf_writer s b =  m &#10230; buf_msg s b = buf_msg t b&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>option.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>msgneq</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s t .&#8707;b m .buf_writer s b &#8800;  m &#10230; buf_msg s b = buf_msg t b&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Functional correctness by rely guarantee proof&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">subsubsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;event&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>Create_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;( &#8704;s k b .&#915; (createNode s k b) &#8866; createNode_RGCond )&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>createNode_def</span><span> </span><span>createNode_RGCond_def</span><span> </span><span>bufstatus_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>sysconfstb</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Emptyprecond</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>SIMP_hoare.stable_def</span><span>  </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Emptyprecond</span><span> </span><span>guard_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Emptyprecond</span><span> </span><span>guard_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>Remove_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;( &#8704;s k b .&#915; (removeNode s k b) &#8866; removeNode_RGCond )&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>removeNode_def</span><span> </span><span>removeNode_RGCond_def</span><span> </span><span>bufstatus_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>sysconfstb</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Emptyprecond</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>SIMP_hoare.stable_def</span><span>  </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Emptyprecond</span><span> </span><span>guard_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>dgps_2</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s x y.
       buf_msg x dgps_buf = &#10631;data = Some (SOME x. True)&#10632; &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some DGPS &#8743; x = s &#8743; buf_writer y = buf_writer x &#8743; 
            buf_readers y = buf_readers x &#10230;buf_msg s b&#39; = buf_msg y b&#39; &#10233;
       buf_msg y dgps_buf = &#10631;data = Some (SOME x. True)&#10632;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,bufset = buf_init,
        buf_msg = (&#955;b. &#10631;data = None&#10632;) &#10632;  interactive_buf &#8800;
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,bufset = buf_init,
        buf_msg = (&#955;b. &#10631;data = None&#10632;) &#10632; dgps_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>Module.simps</span><span class="delimiter">(</span><span>7</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>7</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_msg y dgps_buf = &#10631;data = Some (SOME x. True)&#10632;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>DGPS_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;( &#8704;s .&#915; DGPS_exec &#8866; DGPS_exec_RGCond s)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>DGPS_exec_def</span><span> </span><span>DGPS_exec_RGCond_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Module_exec_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>  
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dgps_2</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>force</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dgps_2</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>SIMP_hoare.stable_def</span><span>  </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>Interactive_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(&#8704;s. &#915; Interactive_exec &#8866; Interactive_exec_RGCond s)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Interactive_exec_def</span><span> </span><span>Interactive_exec_RGCond_def</span><span> </span><span>Module_exec_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span class="delimiter">)</span><span class="delimiter">+</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>dgps_2</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span class="delimiter">)</span><span class="delimiter">+</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>dgps_2</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>SIMP_hoare.stable_def</span><span>  </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>locator_1</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s. s &#8800; s&#10631;buf_msg := (buf_msg s)(locator_buf := &#10631;data = Some LOSS&#10632;)&#10632; &#10233;
         data (buf_msg s dgps_buf) = None &#10233; buf_writer s locator_buf &#8800; 
              Some Locator &#10233; buf_msg s locator_buf = &#10631;data = Some LOSS&#10632;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>mono_tags</span><span class="delimiter">,</span><span> </span><span>lifting</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>control_mode_buf_type</span><span>  
</span><span>      </span><span>fun_upd_same</span><span>   </span><span>option.simps</span><span class="delimiter">(</span><span>3</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>locator_3</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s x y.
       data (buf_msg x locator_buf) = Some LOSS &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some Locator &#8743; x = s &#8743; buf_writer y = buf_writer x &#8743;
            buf_readers y = buf_readers x &#10230;   buf_msg s b&#39; = buf_msg y b&#39; &#10233;
            data (buf_msg y locator_buf) &#8800; Some LOSS &#10233;
             data (buf_msg y locator_buf) = Some (SOME x. True)&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; dgps_buf &#8800;
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> 
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;data (buf_msg y locator_buf) = Some (SOME x. True)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>locator_4</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;x y. data (buf_msg x dgps_buf) = Some y &#10233;
           (case y of SINGLE_POINT x y &#8658; LOSS | PSEU_DIFF x xa &#8658; LOW_PREC x xa 
            | RTK_FIX x xa &#8658; HIGH_PREC x xa
            | RTK_FLOAT x xa &#8658; LOW_PREC x xa) &#8800;
           LOSS &#10233;
           (case y of SINGLE_POINT x y &#8658; LOSS | PSEU_DIFF x xa &#8658; LOW_PREC x xa 
            | RTK_FIX x xa &#8658; HIGH_PREC x xa
            | RTK_FLOAT x xa &#8658; LOW_PREC x xa) =
           (SOME x. True)
&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>msg_type</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(case y of SINGLE_POINT x y &#8658; LOSS | PSEU_DIFF x xa &#8658; LOW_PREC x xa |
                 RTK_FIX x xa &#8658; HIGH_PREC x xa | RTK_FLOAT x xa &#8658; LOW_PREC x xa) = (SOME x. True)&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>locator_5</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s. {(s, t).
          s &#8712; - &#10627;data (&#180;buf_msg dgps_buf) = None&#10628; &#8743;
          t = s
          &#10631;buf_msg := (buf_msg s)
             (locator_buf :=
                &#10631;data =
                   Some
                    (case the (data (buf_msg s dgps_buf)) of SINGLE_POINT x y &#8658; LOSS 
                     | PSEU_DIFF x xa &#8658; LOW_PREC x xa
                     | RTK_FIX x xa &#8658; HIGH_PREC x xa | RTK_FLOAT x xa &#8658; LOW_PREC x xa)&#10632;)&#10632;}
         &#8838; (guar_bufs_stb_sys s Locator)<span class="hidden">&#8679;</span><sup>=</sup>&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;
       ,bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>False</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;{(s, t). s &#8712; - &#10627;data (&#180;buf_msg dgps_buf) = None&#10628; &#8743;
    t = s &#10631;buf_msg := (buf_msg s) (locator_buf := &#10631;data = Some (case the (data (buf_msg s dgps_buf))
    of SINGLE_POINT x y &#8658; LOSS | 
       PSEU_DIFF x xa &#8658; LOW_PREC x xa |
       RTK_FIX x xa &#8658; HIGH_PREC x xa |
       RTK_FLOAT x xa &#8658; LOW_PREC x xa)&#10632;)&#10632;} &#8838; (guar_bufs_stb_sys s Locator)<span class="hidden">&#8679;</span><sup>=</sup>&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>metis</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>locator_6</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s x y ya.
       data (buf_msg x dgps_buf) = Some y &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some Locator &#8743; x = s &#8743; buf_writer ya = buf_writer x &#8743;
             buf_readers ya = buf_readers x &#10230; buf_msg s b&#39; = buf_msg ya b&#39; &#10233;
       &#8707;y. data (buf_msg ya dgps_buf) = Some y&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>msg_type</span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>ya</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>f1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
            bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf &#8800; 
            buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
            bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_msg  &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; dgps_buf =
        buf_msg &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;y. data (buf_msg ya dgps_buf) = Some y&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>f1</span><span> </span><span>msg_type_no_eq</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>locator_7</span><span> </span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s a. a &#8800; a&#10631;buf_msg := (buf_msg a)(locator_buf := &#10631;data = Some LOSS&#10632;)&#10632; &#10233;
           data (buf_msg a dgps_buf) = None &#10233;
           locator_buf &#8712; bufset a &#10233; buf_writer s locator_buf &#8800; Some Locator &#10233; 
           buf_msg a locator_buf = &#10631;data = Some LOSS&#10632;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>a1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;data (buf_msg a dgps_buf) = None&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s. data (buf_msg (s::&#39;b State_scheme) locator_buf) = Some LOSS &#8744; 
        data (buf_msg s locator_buf) &#8800; None&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>full_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>buffer.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>locator_3</span><span> </span><span>option.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_msg a locator_buf = &#10631;data = Some LOSS&#10632;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>a1</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>fun_upd_same</span><span> </span><span>option.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>Locator_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s .&#915; locator_exec &#8866; Locator_exec_RGCond s&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>locator_exec_def</span><span> </span><span>Locator_exec_RGCond_def</span><span> </span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Cond</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>     
</span><span>          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span> 
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>locator_7</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span>  </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>control_mode_buf_type</span><span>  </span><span>fun_upd_same</span><span>  </span><span>option.simps</span><span class="delimiter">(</span><span>3</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>buffer.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  </span><span>locator_3</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>locator_3</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>locator_4</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>locator_5</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>locator_6</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>buffer.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  </span><span>locator_3</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>locator_3</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span>  </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>guar_bufs_stb_sys_def</span><span> 
</span><span>      </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> 
</span><span>      </span><span>get_wrt_bufs_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>planner_1</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s x y ya.
       data (buf_msg x locator_buf) = Some y &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some Planner &#8743; b&#39; &#8712; bufset x 
        &#10230; buf_msg x b&#39; = buf_msg ya b&#39; &#10233; &#8707;y. data (buf_msg ya locator_buf) = Some y
 &quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>msg_type</span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>ya</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;c State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;, 
        bufset = {dgps_buf, locator_buf, AV_status_buf, planner_buf, control_mode_buf, 
      order_buf, interactive_buf, path_buf}, buf_msg = &#955;b. &#10631;data = None&#10632;&#10632; locator_buf = Some Locator&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;y. data (buf_msg ya locator_buf) = Some y&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> 
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>msg_type_no_eq</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>planner_2</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s. &#8704;x. (&#8707;xa y. buf_msg x planner_buf = &#10631;data = Some (CtrlCMD xa y)&#10632;) &#10230;
 (&#8704;y. ((&#8704;b&#39;. buf_writer s b&#39; = Some Planner &#8743; b&#39; &#8712; bufset x &#10230; buf_msg x b&#39; = buf_msg y b&#39;) &#10230;
                   (&#8707;x ya. buf_msg y planner_buf = &#10631;data = Some (CtrlCMD x ya)&#10632;)) &#8743;
                  (x = y &#10230; (&#8707;x ya. buf_msg y planner_buf = &#10631;data = Some (CtrlCMD x ya)&#10632;)))&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>xa</span><span> </span><span class="delimiter">::</span><span> </span><span>real</span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>real</span><span> 
</span><span>          </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>ya</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
 bufset = {dgps_buf, locator_buf, AV_status_buf, planner_buf, control_mode_buf,
           order_buf, interactive_buf, path_buf},
 buf_msg = &#955;b. &#10631;data = None&#10632;&#10632; planner_buf &#8800; buf_writer &#10631;buf_writer = buf_writer&#39;,
 buf_readers = buf_readers&#39;,
 bufset = {dgps_buf, locator_buf, AV_status_buf, planner_buf, control_mode_buf, 
 order_buf, interactive_buf, path_buf},
 buf_msg = &#955;b. &#10631;data = None&#10632;&#10632; locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8707;x yaa. buf_msg ya planner_buf = &#10631;data = Some (CtrlCMD x yaa)&#10632;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>Planner_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s .&#915; planner_exec &#8866; Planner_exec_RGCond s&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>planner_exec_def</span><span> </span><span>Planner_exec_RGCond_def</span><span> </span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Cond</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>     
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>  
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>buffer.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>locator_3</span><span> </span><span>option.discI</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">defer</span></span></span></span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>planner_2</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>planner_1</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span>  </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> 
</span><span>      </span><span>get_wrt_bufs_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span> 
</span><span>      </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>locator_buf_type</span><span> </span><span>option.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_1</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s x y.
       data (buf_msg x control_mode_buf) = Some Manual &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some Chassis &#8743; x = s &#8743; buf_writer y = buf_writer x &#8743;
             buf_readers y = buf_readers x &#10230;
            buf_msg s b&#39; = buf_msg y b&#39; &#10233;
       data (buf_msg y control_mode_buf) = Some Manual&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer&#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data =z&#10632;) &#10632; locator_buf&quot;</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;data (buf_msg y control_mode_buf) = Some Manual&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_2</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s a. (a, a&#10631;buf_msg := (buf_msg a)(control_mode_buf := &#10631;data = Some Auto&#10632;)&#10632;) 
         &#8713; guar_bufs_stb_sys s Chassis &#10233;
           data (buf_msg a control_mode_buf) = Some Manual &#10233;
           data (buf_msg a interactive_buf) = Some Operate_Autopilot &#10233;
           a = a&#10631;buf_msg := (buf_msg a)(control_mode_buf := &#10631;data = Some Auto&#10632;)&#10632;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;f fa B fb u. buf_writer &#10631;buf_writer = f, buf_readers = fa,bufset = B,buf_msg = fb&#10632; = f&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
             bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf
             &#8800; buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
             bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>fastforce</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;a = a &#10631;buf_msg := (buf_msg a) (control_mode_buf := &#10631;data = Some Auto&#10632;)&#10632;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_3</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s x y.
       data (buf_msg x control_mode_buf) = Some Manual &#10233;
       data (buf_msg x interactive_buf) = Some Operate_Autopilot &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some Chassis &#8743; x = s &#8743; buf_writer y = buf_writer x &#8743;
             buf_readers y = buf_readers x &#10230;
            buf_msg s b&#39; = buf_msg y b&#39; &#10233;
       data (buf_msg y interactive_buf) = Some Operate_Autopilot&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;f fa B fb u. buf_writer &#10631;buf_writer = f, buf_readers = fa,bufset = B,buf_msg = fb&#10632; = f&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
             bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; dgps_buf &#8800;
             buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
             bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;data (buf_msg y interactive_buf) = Some Operate_Autopilot&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_4</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s a. (a, a&#10631;buf_msg := (buf_msg a)(control_mode_buf := &#10631;data = Some Auto&#10632;)&#10632;) 
          &#8713; guar_bufs_stb_sys s Chassis &#10233;
           data (buf_msg a control_mode_buf) &#8800; Some Manual &#10233;
           data (buf_msg a interactive_buf) = Some Operate_Steer &#10233;
           a = a&#10631;buf_msg := (buf_msg a)(control_mode_buf := &#10631;data = Some Auto&#10632;)&#10632;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, 
        buf_readers = buf_readers&#39;,bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;a = a &#10631;buf_msg := (buf_msg a) (control_mode_buf := &#10631;data = Some Auto&#10632;)&#10632;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_5</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s x y.
       data (buf_msg x control_mode_buf) &#8800; Some Manual &#10233;
       data (buf_msg x interactive_buf) = Some Operate_Steer &#10233;
       &#8704;b&#39;. buf_writer s b&#39; = Some Chassis &#8743; x = s &#8743; buf_writer y = buf_writer x &#8743; buf_readers y = buf_readers x &#10230;
            buf_msg s b&#39; = buf_msg y b&#39; &#10233;
       data (buf_msg y interactive_buf) = Some Operate_Steer&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;b State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
  bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
  bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632; locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>  
</span><span>        </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;data (buf_msg y interactive_buf) = Some Operate_Steer&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span>  </span><span>msg_type_no_eq</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_6</span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot; &#8896;s a. &#8707;b&#39;. buf_writer s b&#39; &#8800; Some Chassis &#8743;
a = s &#8743; buf_msg s b&#39; &#8800; (if b&#39; = AV_status_buf then &#10631;data = Some (SOME x. True)&#10632; else buf_msg s b&#39;)
&#10233; a = a&#10631;buf_msg := (buf_msg a)(AV_status_buf := &#10631;data = Some (SOME x. True)&#10632;)&#10632;&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>mono_tags</span><span class="delimiter">,</span><span> </span><span>lifting</span><span class="delimiter">)</span><span> </span><span>State.ext_inject</span><span> </span><span>State.surjective</span><span> 
</span><span>      </span><span>av_status_buf_type</span><span> </span><span>buffer.equality</span><span> </span><span>fun_upd_eqD</span><span> </span><span>fun_upd_triv</span><span> </span><span>old.unit.exhaust</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>chassis_7</span><span> </span><span class="delimiter">:</span><span class="string"><span class="delete"><span class="delete">&quot;&#8896;s a. &#8707;b&#39;. buf_writer s b&#39; &#8800; Some Chassis &#8743;
 a = s &#8743; buf_msg s b&#39; &#8800; (if b&#39; = order_buf then &#10631;data = Some (SOME x. True)&#10632; else buf_msg s b&#39;) &#10233;
           a = a&#10631;buf_msg := (buf_msg a)(order_buf := &#10631;data = Some (SOME x. True)&#10632;)&#10632;&quot;</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>s</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#39;a State_scheme&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;f fa B fb u. buf_writer &#10631;buf_writer = f, buf_readers = fa,bufset = B,buf_msg = fb&#10632; = f&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span>f1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
  bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
  bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;f fa B fb u. buf_writer &#10631;buf_writer = f, buf_readers = fa,bufset = B,buf_msg = fb&#10632; = f&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;dgps_buf &#8800; 
        buf_writer &#10631;buf_writer = buf_writer&#39;, buf_readers = buf_readers&#39;,
        bufset = buf_init,buf_msg = (&#955;b. &#10631;data = z&#10632;) &#10632;locator_buf&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>fastforce</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;a = a &#10631;buf_msg := (buf_msg a) (order_buf := &#10631;data = Some (SOME x. True)&#10632;)&#10632;&quot;</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>f1</span><span> </span><span>msg_type_no_eq</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>fastforce</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsubsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;event system proof&#8250;</span></span></span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>Chassis_satRG</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s .&#915; ctrlmode_exec &#8866; Chassis_exec_RGCond s &#8743;
&#915; monitor_exec &#8866; Chassis_exec_RGCond s &#8743;
&#915; orderctrl_exec &#8866; Chassis_exec_RGCond s &quot;</span></span></span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Evt_sat_RG_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ctrlmode_exec_def</span><span> </span><span>Chassis_exec_RGCond_def</span><span> </span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Cond</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Cond</span><span class="delimiter">)</span><span>     
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>chassis_2</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_3</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>order_buf_type</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span> </span><span class="delimiter">:</span><span>Skip_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span>chassis_3</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Cond</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>chassis_4</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_5</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>order_buf_type</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span> </span><span class="delimiter">:</span><span>Skip_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>chassis_1</span><span> </span><span>chassis_5</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span>  </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> 
</span><span>      </span><span>get_wrt_bufs_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span> 
</span><span>      </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>monitor_exec_def</span><span> </span><span>Chassis_exec_RGCond_def</span><span> </span><span>Module_exec_def</span><span class="delimiter">)</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>order_buf_type</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dgps_2</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>force</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>order_buf_type</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span>  </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> 
</span><span>      </span><span>get_wrt_bufs_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span>
</span><span>      </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>orderctrl_exec_def</span><span> </span><span>Chassis_exec_RGCond_def</span><span> </span><span>Module_exec_def</span><span class="delimiter">)</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BasicEvt</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>body_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guard_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Basic</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dgps_2</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>force</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>control_mode_buf_type</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span>  </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span>
</span><span>      </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span> 
</span><span>      </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>EvtSys_on_Monitor_SatRG</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot; &#8704;s k. &#915; &#8866; fst (EvtSys_on_Monitor_RGF s k ) sat<span class="hidden">&#8681;</span><sub>s</sub> 
              [Pre<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Monitor_RGF s k )), 
               Rely<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Monitor_RGF s k )), 
               Guar<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Monitor_RGF s k )), 
               Post<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Monitor_RGF s k ))]&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Monitor_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>EvtSys_h</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(a,b)&#8712; (&#8899;b. {create_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Create_satRG</span><span> </span><span>create_RGF_def</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> 
</span><span>      </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>snd_conv</span><span> </span><span>fst_conv</span><span>
</span><span>          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">,</span><span> </span><span>lifting</span><span class="delimiter">)</span><span> </span><span>UN_E</span><span> </span><span>singletonD</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(a,b)&#8712; (&#8899;b. {remove_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Remove_satRG</span><span> </span><span>remove_RGF_def</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> 
</span><span>      </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>snd_conv</span><span> </span><span>fst_conv</span><span>
</span><span>          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span class="delimiter">(</span><span>no_types</span><span class="delimiter">,</span><span> </span><span>lifting</span><span class="delimiter">)</span><span> </span><span>UN_E</span><span> </span><span>singletonD</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(a,b)&#8712; (&#8899;b. {create_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>create_RGF_def</span><span> </span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>createNode_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(a,b)&#8712; (&#8899;b. {remove_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>remove_RGF_def</span><span> </span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>removeNode_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>  </span><span class="keyword1"><span class="command">unfolding</span></span><span> </span><span>Ball_def</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>impI</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x&#8712; (&#8899;b. {create_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>create_RGF_def</span><span>  </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>createNode_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>erule</span><span> </span><span>exE</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x&#8712; (&#8899;b. {remove_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>remove_RGF_def</span><span>  </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>removeNode_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>erule</span><span> </span><span>exE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>impI</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x&#8712; (&#8899;b. {create_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>create_RGF_def</span><span>  </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>createNode_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>erule</span><span> </span><span>exE</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>removeNode_RGCond_def</span><span> </span><span>create_RGF_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;x&#8712; (&#8899;b. {remove_RGF s k b})&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>remove_RGF_def</span><span>  </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>removeNode_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>createNode_def</span><span> </span><span>removeNode_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>createNode_RGCond_def</span><span> </span><span>create_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>create_RGF_def</span><span> </span><span>remove_RGF_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>createNode_def</span><span> </span><span>removeNode_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>create_RGF_def</span><span> </span><span>createNode_RGCond_def</span><span> </span><span>remove_RGF_def</span><span> 
</span><span>        </span><span>removeNode_RGCond_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span class="delimiter">+</span><span>   
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; EvtSys_on_DGPS_RGF s &#8801; 
  EvtSysRGF[s,DGPS,{RGF[DGPS_exec,RGCond[s,DGPS,dgps_post]]},dgps_post] &quot;</span></span></span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>EvtSys_on_DGPS_SatRG</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot; &#8704;s . &#915; &#8866; fst (EvtSys_on_DGPS_RGF s) sat<span class="hidden">&#8681;</span><sub>s</sub> 
              [Pre<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_DGPS_RGF s)), 
               Rely<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_DGPS_RGF s)), 
               Guar<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_DGPS_RGF s)), 
               Post<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_DGPS_RGF s))]&quot;</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  
</span><span>        </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span>  </span><span>RGF_def</span><span>  </span><span>RGCond_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>EvtSys_h</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span>
</span><span>      </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>DGPS_satRG</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> 
</span><span>                          </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>DGPS_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> 
</span><span>                         </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>DGPS_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> 
</span><span>                        </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>DGPS_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> 
</span><span>            </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>DGPS_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>DGPS_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>   </span><span>DGPS_exec_RGCond_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; EvtSys_on_Interactive_RGF s &#8801; 
 EvtSysRGF[s,Interactive,{RGF[Interactive_exec
,RGCond[s,Interactive,interactive_post]]},interactive_post] &quot;</span></span></span><span> 
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>EvtSys_on_Interactive_SatRG</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot; &#8704;s . &#915; &#8866; fst (EvtSys_on_Interactive_RGF s) sat<span class="hidden">&#8681;</span><sub>s</sub> 
              [Pre<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Interactive_RGF s)), 
               Rely<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Interactive_RGF s)), 
               Guar<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Interactive_RGF s)), 
               Post<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Interactive_RGF s))]&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  
</span><span>                 </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span>  </span><span>RGF_def</span><span>  </span><span>RGCond_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>EvtSys_h</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Interactive_satRG</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Interactive_exec_def</span><span> </span><span>Interactive_exec_RGCond_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Interactive_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Interactive_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Interactive_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Interactive_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Interactive_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>   </span><span>DGPS_exec_RGCond_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; EvtSys_on_Locator_RGF s &#8801; EvtSysRGF[s,Locator,{RGF[locator_exec,RGCond[s,Locator,locator_post]]},locator_post] &quot;</span></span></span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>EvtSys_on_Locator_SatRG</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot; &#8704;s . &#915; &#8866; fst (EvtSys_on_Locator_RGF s) sat<span class="hidden">&#8681;</span><sub>s</sub> 
              [Pre<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Locator_RGF s)), 
               Rely<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Locator_RGF s)), 
               Guar<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Locator_RGF s)), 
               Post<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Locator_RGF s))]&quot;</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> 
</span><span>                </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span>  </span><span>RGF_def</span><span>  </span><span>RGCond_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>EvtSys_h</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Locator_satRG</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Locator_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Locator_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Locator_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Locator_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Locator_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>   </span><span>Locator_exec_RGCond_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot; EvtSys_on_Planner_RGF s &#8801; EvtSysRGF[s,Planner,{RGF[planner_exec,RGCond[s,Planner,planner_post]]},planner_post] &quot;</span></span></span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>EvtSys_on_Planner_SatRG</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot; &#8704;s . &#915; &#8866; fst (EvtSys_on_Planner_RGF s) sat<span class="hidden">&#8681;</span><sub>s</sub> 
              [Pre<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Planner_RGF s)), 
               Rely<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Planner_RGF s)), 
               Guar<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Planner_RGF s)), 
               Post<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Planner_RGF s))]&quot;</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> 
</span><span>        </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span>  </span><span>RGF_def</span><span>  </span><span>RGCond_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>EvtSys_h</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Planner_satRG</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Planner_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Planner_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Planner_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Planner_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Planner_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>   </span><span>Locator_exec_RGCond_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>EvtSys_on_Chassis_SatRG</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">&quot; &#8704;s . &#915; &#8866; fst (EvtSys_on_Chassis_RGF s) sat<span class="hidden">&#8681;</span><sub>s</sub> 
              [Pre<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Chassis_RGF s)), 
               Rely<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Chassis_RGF s)), 
               Guar<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Chassis_RGF s)), 
               Post<span class="hidden">&#8681;</span><sub>f</sub> (snd (EvtSys_on_Chassis_RGF s))]&quot;</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span>  </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> 
</span><span>                </span><span>RGF_def</span><span>  </span><span>RGCond_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>EvtSys_h</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>clarify</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>E<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Chassis_satRG</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Evt_sat_RG_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Chassis_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>         </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Chassis_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Chassis_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Chassis_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span class="delimiter">)</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>  </span><span>Chassis_exec_RGCond_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub>_def</span><span>   </span><span>Chassis_exec_RGCond_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span> </span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>esys_sat</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s .&#915; &#8866;  fst (L4_Spec s k) 
  sat<span class="hidden">&#8681;</span><sub>s</sub> [Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec s k),
        Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec s k), 
        Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec s k), 
        Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec s k)]&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>k</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>getrgformula_def</span><span>  </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>EvtSys_on_DGPS_SatRG</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>EvtSys_on_DGPS_RGF_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fastforce</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>getrgformula_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>EvtSys_on_Locator_SatRG</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>EvtSys_on_Planner_SatRG</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>EvtSys_on_Planner_RGF_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>EvtSys_on_Chassis_SatRG</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>getrgformula_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>EvtSys_on_Interactive_SatRG</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>getrgformula_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>EvtSys_on_Monitor_SatRG</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>fast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;sys_guar s &#8801; guar_bufs_stb_sys s DGPS&#8746; guar_bufs_stb_sys s Interactive&#8746; 
guar_bufs_stb_sys s Locator&#8746; guar_bufs_stb_sys s Planner&#8746;
guar_bufs_stb_sys s Chassis&#8746; Id &#8746; &#10627;&#186;buf_msg = &#170;buf_msg&#10628;&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>esys_guar_in_sys</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704; s. Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec s k) &#8838; sys_guar s&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>k</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span>   </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>EvtSys_on_DGPS_RGF_def</span><span> 
</span><span>        </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span>   </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span> 
</span><span>      </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span>   </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>EvtSys_on_Planner_RGF_def</span><span> 
</span><span>      </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span>   </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span>  
</span><span>      </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span>   </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span> 
</span><span>      </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>fast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span>   </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>EvtSys_on_RGF_def</span><span>  </span><span>RGF_def</span><span>
</span><span>      </span><span>RGCond_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">subsection</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">&#8249;Invariant and ParSystem proof&#8250;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>buf_writer_inv</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658; bool&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_writer_inv s &#8801; &#8704;b. b&#8712; bufset s &#10230;buf_writer s b &#8800; None &quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>buf_readers_inv</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658; bool&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_readers_inv s &#8801; &#8704;b.  b&#8712; bufset s&#10230;buf_readers s b &#8800; {} &quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>buf_msg_inv</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658; bool&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;buf_msg_inv s &#8801; &#8704;b.  b&#8712; bufset s&#10230;buf_msg s b = &#10631;data = Some(SOME x:: msg_type. True) &#10632; &quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>bufset_inv</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;State &#8658; bool&quot;</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span class="string"><span class="delete"><span class="delete">&quot;bufset_inv s  &#8801;  bufset s &#8800; {}&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;invariant s &#8801; buf_writer_inv s &#8743; buf_readers_inv s &#8743; buf_msg_inv s &#8743; bufset_inv s&quot;</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">interpretation</span></span><span> </span><span>dmsg_bus_rg</span><span> </span><span>ptranI</span><span> </span><span>petranI</span><span> </span><span>None</span><span> </span><span>cpts_pI</span><span> </span><span>cpts_of_pI</span><span> </span><span>prog_validityI</span><span> </span><span>assume_pI</span><span> 
</span><span>  </span><span>commit_pI</span><span> </span><span>rghoare_pI</span><span> </span><span>sysconf</span><span> </span><span>buf_writer</span><span> </span><span>buf_readers</span><span>  </span><span>buf_msg</span><span> </span><span>local_vars</span><span>  
</span><span>  </span><span>bufset</span><span> </span><span>invariant</span><span> </span><span>L4_Spec&#39;</span><span> </span><span>s0</span><span>
</span><span>  
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>dmsg_bus_rg_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>dmsg_bus_axioms</span><span> </span><span>rghoare_pI_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>dmsg_bus_rg.axioms</span><span>   </span><span>buf_writer&#39;.simps</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span> </span><span>local_vars_def</span><span>  </span><span>s0_def</span><span> </span><span>System_Init_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> 
</span><span>      </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>msg_type_no_eq</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>stb_guar</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;stable (Collect invariant) (G)&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>inv_stb_G</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>SIMP_hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>stb_pred_rel</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;stable (Collect P&#39;) RG &#10233; (s, r) &#8712; RG &#10233; P&#39; s &#10233; P&#39; r&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>stable_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>fun_g_stb_inv</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;(s,r)&#8712; G&#10233; invariant s &#10233; invariant r&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>stb_guar</span><span> </span><span>stb_pred_rel</span><span class="delimiter">[</span><span>of</span><span> </span><span>invariant</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;G&quot;</span></span></span><span> </span><span>s</span><span> </span><span>r</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>functional_correctness&#39;</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#915; &#8866; L4_Spec&#39; s   SAT 
    [&#10627;True&#10628;,  
  (assm_bufs_stb_sys s DGPS &#8745; assm_bufs_stb_sys s Interactive &#8745; assm_bufs_stb_sys s Locator 
&#8745; assm_bufs_stb_sys s Planner &#8745; assm_bufs_stb_sys s Chassis 
&#8745; &#10627;&#186;buf_writer = &#170;buf_writer &#8743; &#186;buf_readers = &#170;buf_readers &#8743; &#186;bufset = &#170;bufset&#10628;)&#8746; Id ,
 sys_guar s,
    dgps_post&#8746; interactive_post &#8746; locator_post &#8746; planner_post &#8746; chassis_post]&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>ParallelESys</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span>   </span><span>EvtSys_on_DGPS_SatRG</span><span> </span><span>EvtSys_on_Interactive_SatRG</span><span> </span><span>EvtSys_on_Locator_SatRG</span><span>
</span><span>          </span><span>EvtSys_on_Planner_SatRG</span><span> </span><span>EvtSys_on_Chassis_SatRG</span><span> </span><span>wholesys_sat_RG</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> 
</span><span>              </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec&#39;_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>syssat</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span> </span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>EvtSys_on_Planner_RGF_def</span><span>
</span><span>        </span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>getrgformula_def</span><span> 
</span><span>        </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Monitor_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span>  </span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span>
</span><span>          </span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span>
</span><span>          </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>  
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Monitor_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>RGF_def</span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Collect_mono_iff</span><span> </span><span>Id_fstsnd_eq</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span>   </span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span>
</span><span>          </span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> 
</span><span>            </span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Locator&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>    
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span>
</span><span>                      </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span> 
</span><span>                      </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span> 
</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span>   </span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span>
</span><span>          </span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span>    </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>   </span><span>getrgformula_def</span><span>
</span><span>           </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>getrgformula_def</span><span> </span><span>sys_guar_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_DGPS_RGF_def</span><span>  </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Locator_RGF_def</span><span>  </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Planner_RGF_def</span><span>  </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span>  </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span>  </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span>  </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> 
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>order_buf_type</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>esys_sat&#39;</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;k. &#915; &#8866;  fst (L4_Spec&#39; s k) 
  sat<span class="hidden">&#8681;</span><sub>s</sub> [Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec&#39; s k),
        Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec&#39; s k), 
        Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec&#39; s k), 
        Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub> (L4_Spec&#39; s k)]&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>syssat</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>metis</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>functional_correctness</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;&#8704;s. &#915; &#8866; L4_Spec&#39; s  SAT  [s0, {}, sys_guar s, &#10627;True&#10628;]&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>rule</span><span> </span><span>ParallelESys</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span class="delimiter">)</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span>    </span><span>wholesys_sat_RG</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>f</sub>_def</span><span> </span><span>esys_sat&#39;</span><span> </span><span class="delimiter">)</span><span>    
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>L4_Spec_def</span><span> </span><span>Post<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>esys_sat</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span> </span><span>Pre<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span> </span><span>getrgformula_def</span><span>   </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>s0_def</span><span> </span><span>System_Init_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> 
</span><span>            </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>msg_type_no_eq</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span>   </span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span>
</span><span>          </span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>  </span><span>Rely<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>
</span><span>            </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Locator&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>    
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span> 
</span><span>
</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;j = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>simp</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span>
</span><span>                      </span><span>assm_bufs_stb_sys_def</span><span> </span><span>bufs_stb_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>guar_in_rely_bufs</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span> 
</span><span>                      </span><span>EvtSys_on_Chassis_RGF_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>smt</span><span> </span><span>msg_type.inject</span><span class="delimiter">(</span><span>8</span><span class="delimiter">)</span><span> </span><span>option.inject</span><span> </span><span>planner_buf_type</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>L4_Spec&#39;_def</span><span>   </span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>EvtSys_on_Locator_RGF_def</span><span>
</span><span>          </span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>EvtSys_on_Chassis_RGF_def</span><span>    </span><span>Guar<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>s</sub>_def</span><span>   </span><span>getrgformula_def</span><span>
</span><span>           </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = DGPS&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_DGPS_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Locator&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Locator_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Interactive&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Interactive_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Planner&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Planner_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Chassis&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;k = Monitor&quot;</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>EvtSys_on_Chassis_RGF_def</span><span> </span><span>getrgformula_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>getrgformula_def</span><span> </span><span>RGF_def</span><span> </span><span>RGCond_def</span><span> </span><span>EvtSys_on_Monitor_RGF_def</span><span> </span><span>sys_guar_def</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Module.exhaust</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;invariant_presv_pares &#915; invariant (paresys_spec (L4_Spec&#39; s)) s0 {}&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>invariant_theorem</span><span class="delimiter">[</span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>G</span><span class="delimiter">=</span><span class="string"><span class="delete"><span class="delete">&quot;sys_guar s&quot;</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>pst</span><span> </span><span class="delimiter">=</span><span> </span><span>UNIV</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>functional_correctness</span><span> </span><span>inv</span><span> 
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>force</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>PiCore_Hoare.stable_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>sys_guar_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>PiCore_Hoare.stable_def</span><span> </span><span>invariant_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>allI</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>buf_writer_inv_def</span><span> </span><span>buf_readers_inv_def</span><span> </span><span>buf_msg_inv_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>guar_bufs_stb_sys_def</span><span> </span><span>bufs_stb_cpl_def</span><span> </span><span>get_wrt_bufs_def</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">defer</span></span></span></span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span>invariant_def</span><span> </span><span>s0_def</span><span> </span><span>System_Init_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span class="delimiter">[</span><span>1</span><span class="delimiter">]</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>buf_writer_inv_def</span><span class="delimiter">)</span><span>
</span><span>     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>buf_readers_inv_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> </span><span>buf_msg_inv_def</span><span> </span><span>buffer.equality</span><span> </span><span>old.unit.exhaust</span><span> </span><span>path_type</span><span class="delimiter">)</span><span>
</span><span>   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>bufset_inv_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span class="delimiter">(</span><span>metis</span><span> </span><span>Buffer.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>Module.distinct</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>State.select_convs</span><span class="delimiter">(</span><span>4</span><span class="delimiter">)</span><span> 
</span><span>      </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>buf_writer&#39;.simps</span><span class="delimiter">(</span><span>2</span><span class="delimiter">)</span><span> </span><span>fun_upd_apply</span><span> </span><span>msg_type_no_eq</span><span> </span><span>option.inject</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">theorem</span></span><span> </span><span class="string"><span class="delete"><span class="delete">&quot;invariant_presv_pares &#915; invariant (paresys_spec (L4_Spec&#39; s)) s0 R&quot;</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>inv</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>fast</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span><span>
</span><span>
</span></pre>

</div>
</body>
</html>
